restore_backup_to_root() {
    echo $key | sudo -S sleep 1
    sudo -k

    ###VARIABLES ARE PASSED FROM SH AS
    ###restore_backup_to_root "$backup_dirct" "$backup_file_namect"
    local b_dir=$1
    local b_file_name=$2
    local b_path="$backup_dir/$backup_file_name.7z"

    echo "Restoring CSI Tools backup..."
    # Extract the .7z file safely and ensure files are overwritten without prompting
    if ! echo $key | sudo -S 7z x -aoa "$b_file_name.7z"; then
        echo "Failed to extract $b_path. Please check the file and try again." | tee -a "$output_file"
        return 1  # Exit the function with an error status
    fi

    local tar_file="$b_file_name.tar"
    if [ -f "$tar_file" ]; then
        echo "Restoring backup from tar file..."  | tee -a "$output_file"
        # Extract the tar file and ensure files are overwritten without prompting
        if ! echo $key | sudo -S tar --overwrite -xpf "$tar_file" -C /; then
            echo "Failed to restore from $tar_file. Please check the archive and try again." | tee -a "$output_file"
            return 1  # Exit the function with an error status
        fi
        echo "Backup restored successfully."  | tee -a "$output_file"
        echo $key | sudo -S rm "$tar_file"  | tee -a "$output_file"
    else
        echo "Backup .tar file not found. Please check the archive path and try again." | tee -a "$output_file"
        return 1  # Exit the function with an error status
    fi
    return 0  # Successfully completed the function
}